plugins {
    id "org.springframework.boot" version "2.7.0"
}

apply plugin: 'io.spring.dependency-management'
apply plugin: 'org.springframework.boot'

dependencies {
    implementation libraries.springBootStarterDataJpa
    implementation libraries.springBootStarterWeb
    implementation libraries.springBootStarterWebSocket
    implementation libraries.springBootStarterActuator
    implementation libraries.mariaDbLibrary
    implementation libraries.guacamoleCommon
    implementation libraries.guacamoleCommonJs

    testImplementation libraries.testContainersJupiter
    testImplementation libraries.testContainersLibrary
    testImplementation libraries.springBootStarterTest
}

description = 'spring'

//creates both FAT and plain JAR
//bootJar {
//    mainClass = 'kisonar.poc.framework.spring.security.App'
//}

//generates FAT jar
springBoot {
    buildInfo()
    mainClass.set("kisonar.poc.framework.spring.App")
}
//skips plain jar
tasks.jar {
    enabled = false
}